keep( id, InterviewerType, S4Q12 )
dat_reduced <- dat |>
select( Randomize  == 1 ) |>
filter( id, InterviewerType, S4Q12 )
?select
dat_reduced <- dat |>
filter( Randomize  == 1 ) |>
select( id, InterviewerType, S4Q12 )
View(dat_reduced)
dat_ASU_interviewer <- dat |>
filter( Randomize  == 1 ) |>
filter( InterviewerType == 1) |>
select( S4Q12 )
dat_ASU_interviewer
unique( dat_ASU_interviewer$S4Q12 )
as.vector(unique( dat_ASU_interviewer$S4Q12 ))
binary_vec <- case_when(
# code those who would not prefer the alternate interviewer as -1
dat_ASU_interviewer == "No" ~ -1,
dat_ASU_interviewer == "no" ~ -1,
dat_ASU_interviewer == "ASU" ~ -1,
dat_ASU_interviewer == "Probably no" ~ -1,
dat_ASU_interviewer == "I'd interview with you" ~ -1,
dat_ASU_interviewer == "I don't think so, you were very nice :) (Jessica)" ~ -1,
dat_ASU_interviewer == "No, not at all" ~ -1,
dat_ASU_interviewer == "ASU researcher" ~ -1,
# code those with no preference as 0
dat_ASU_interviewer == "either" ~ 0,
dat_ASU_interviewer == "It wouldn't matter" ~ 0,
dat_ASU_interviewer == "no- doesn't matter" ~ 0,
dat_ASU_interviewer == "doesn't matter" ~ 0,
dat_ASU_interviewer == "Me:) \"Winning\"" ~ 0,
dat_ASU_interviewer == "no preference" ~ 0,
dat_ASU_interviewer == "Either is ok" ~ 0,
dat_ASU_interviewer == "Summer" ~ 0,
dat_ASU_interviewer == "It would have been the same" ~ 0,
dat_ASU_interviewer == "I don't care." ~ 0,
dat_ASU_interviewer == "Either one would be fine" ~ 0,
dat_ASU_interviewer == "Doesn't matter" ~ 0,
dat_ASU_interviewer == "Either would be fine." ~ 0,
dat_ASU_interviewer == "The same" ~ 0,
dat_ASU_interviewer == "Either" ~ 0,
dat_ASU_interviewer == "It doesn't matter" ~ 0,
dat_ASU_interviewer == "either" ~ 0,
dat_ASU_interviewer == "either" ~ 0,
# code those who would have preferred an alternate interviewer as 1
dat_ASU_interviewer == "cruz" ~ 1,
dat_ASU_interviewer == "someone at cruz" ~ 1,
dat_ASU_interviewer == "incarcerated" ~ 1,
dat_ASU_interviewer == "Incarcerated person that conducted interview" ~ 1,
dat_ASU_interviewer == "Someone incarcerated at Cruz" ~ 1,
dat_ASU_interviewer == "Cruz inmate" ~ 1,
dat_ASU_interviewer == "Cruz" ~ 1,
dat_ASU_interviewer == "Someone incarcerated" ~ 1,
dat_ASU_interviewer == "Inmate" ~ 1,
dat_ASU_interviewer == "Maybe" ~ 1,
dat_ASU_interviewer == "Incarcerated person" ~ 1,
dat_ASU_interviewer == "cruz" ~ 1
)
binary_vec
length(binary_vec)
length(dat_ASU_interviewer)
dat_ASU_interviewer
dim(dat_ASU_interviewer)
dat_CRUZ_interviewer <- dat |>
filter( Randomize  == 1 ) |>
filter( InterviewerType == 0 ) |>
select( S4Q12 )
dat_CRUZ_interviewer$S4Q12
table(binary_vec)
unique(dat_CRUZ_interviewer$S4Q12)
dat_CRUZ_interviewer <- dat |>
filter( Randomize  == 1 ) |>      # take those who are randomized
filter( InterviewerType == 1 ) |> # take those who had the CRUZ interviewer
select( S4Q12 )
# code the values
pref_CRUZ_interviewer <- case_when(
# code those who would prefer the alternate interviewer as 1
dat_CRUZ_interviewer == "ASU" ~ 1,
dat_CRUZ_interviewer == "ASU researcher" ~ 1,
dat_CRUZ_interviewer == "Maybe" ~ 1,
# code those with no preference as 0
dat_CRUZ_interviewer == "either" ~ 0,
dat_CRUZ_interviewer == "It wouldn't matter" ~ 0,
dat_CRUZ_interviewer == "no- doesn't matter" ~ 0,
dat_CRUZ_interviewer == "doesn't matter" ~ 0,
dat_CRUZ_interviewer == "Me:) \"Winning\"" ~ 0,
dat_CRUZ_interviewer == "no preference" ~ 0,
dat_CRUZ_interviewer == "Either is ok" ~ 0,
dat_CRUZ_interviewer == "Summer" ~ 0,
dat_CRUZ_interviewer == "It would have been the same" ~ 0,
dat_CRUZ_interviewer == "I don't care." ~ 0,
dat_CRUZ_interviewer == "Either one would be fine" ~ 0,
dat_CRUZ_interviewer == "Doesn't matter" ~ 0,
dat_CRUZ_interviewer == "Either would be fine." ~ 0,
dat_CRUZ_interviewer == "The same" ~ 0,
dat_CRUZ_interviewer == "Either" ~ 0,
dat_CRUZ_interviewer == "It doesn't matter" ~ 0,
dat_CRUZ_interviewer == "either" ~ 0,
dat_CRUZ_interviewer == "either" ~ 0,
# code those who would not have preferred an alternate interviewer as -1
dat_CRUZ_interviewer == "No" ~ -1,
dat_CRUZ_interviewer == "No, not at all" ~ -1,
dat_CRUZ_interviewer == "I'd interview with you" ~ -1,
dat_CRUZ_interviewer == "no" ~ -1,
dat_CRUZ_interviewer == "Probably no" ~ -1,
dat_CRUZ_interviewer == "cruz" ~ -1,
dat_CRUZ_interviewer == "someone at cruz" ~ -1,
dat_CRUZ_interviewer == "I don't think so, you were very nice :) (Jessica)" ~ -1,
dat_CRUZ_interviewer == "incarcerated" ~ -1,
dat_CRUZ_interviewer == "Incarcerated person that conducted interview" ~ -1,
dat_CRUZ_interviewer == "Someone incarcerated at Cruz" ~ -1,
dat_CRUZ_interviewer == "Cruz inmate" ~ -1,
dat_CRUZ_interviewer == "Cruz" ~ -1,
dat_CRUZ_interviewer == "Someone incarcerated" ~ -1,
dat_CRUZ_interviewer == "Inmate" ~ -1,
dat_CRUZ_interviewer == "Incarcerated person" ~ -1,
dat_CRUZ_interviewer == "cruz" ~ -1
)
dat_CRUZ_interviewer
pref_CRUZ_interviewer
table(pref_CRUZ_interviewer)
dat_ASU_interviewer <- dat |>
filter( Randomize  == 1 ) |>       # take those who were randomized
filter( InterviewerType == 0 ) |>  # take those with the ASU interviewer
select( S4Q12 )
unique(dat_ASU_interviewer$S4Q12)
pref_ASU_interviewer <- case_when(
# code those who would not prefer the alternate interviewer as -1
dat_ASU_interviewer == "No" ~ -1,
dat_ASU_interviewer == "no" ~ -1,
dat_ASU_interviewer == "absolutely not" ~ -1,
dat_ASU_interviewer == "Probably not" ~ -1,
dat_ASU_interviewer == "No" ~ -1,
dat_ASU_interviewer == "ASU researcher" ~ -1,
dat_ASU_interviewer == "asu researcher" ~ -1,
dat_ASU_interviewer == "Absolutely not" ~ -1,
dat_ASU_interviewer == "Dependent on who the incarcerated woman is that would be interviewing her" ~ -1,
dat_ASU_interviewer == "No I wouldn't be comfortable talking and sharing with a woman incarcerated here" ~ -1,
# code those with no preference as 0
dat_ASU_interviewer == "doesn't matter" ~ 0,
dat_ASU_interviewer == "Wouldn't care either way" ~ 0,
dat_ASU_interviewer == "Either would have been fine" ~ 0,
dat_ASU_interviewer == "It would not have made a difference" ~ 0,
dat_ASU_interviewer == "No not really" ~ 0,
# code those who would have preferred an alternate interviewer as 1
dat_ASU_interviewer == "Yes" ~ 1
)
pref_ASU_interviewer
length(pref_ASU_interviewer)
dim(dat_ASU_interviewer)
pref_ASU_interviewer
dat_ASU_interviewer <- dat |>
filter( Randomize  == 1 ) |>       # take those who were randomized
filter( InterviewerType == 0 ) |>  # take those with the ASU interviewer
select( id, S4Q12 )
# code the values
pref_ASU_interviewer <- case_when(
# code those who would not prefer the alternate interviewer as -1
dat_ASU_interviewer == "No" ~ -1,
dat_ASU_interviewer == "no" ~ -1,
dat_ASU_interviewer == "absolutely not" ~ -1,
dat_ASU_interviewer == "Probably not" ~ -1,
dat_ASU_interviewer == "No" ~ -1,
dat_ASU_interviewer == "ASU researcher" ~ -1,
dat_ASU_interviewer == "asu researcher" ~ -1,
dat_ASU_interviewer == "Absolutely not" ~ -1,
dat_ASU_interviewer == "Dependent on who the incarcerated woman is that would be interviewing her" ~ -1,
dat_ASU_interviewer == "No I wouldn't be comfortable talking and sharing with a woman incarcerated here" ~ -1,
# code those with no preference as 0
dat_ASU_interviewer == "doesn't matter" ~ 0,
dat_ASU_interviewer == "Wouldn't care either way" ~ 0,
dat_ASU_interviewer == "Either would have been fine" ~ 0,
dat_ASU_interviewer == "It would not have made a difference" ~ 0,
dat_ASU_interviewer == "No not really" ~ 0,
# code those who would have preferred an alternate interviewer as 1
dat_ASU_interviewer == "Yes" ~ 1
)
dat_ASU_interviewer <- dat |>
filter( Randomize  == 1 ) |>       # take those who were randomized
filter( InterviewerType == 0 ) |>  # take those with the ASU interviewer
select( id, S4Q12 )
# code the values
pref_ASU_interviewer <- case_when(
# code those who would not prefer the alternate interviewer as -1
dat_ASU_interviewer$S4Q12 == "No" ~ -1,
dat_ASU_interviewer$S4Q12 == "no" ~ -1,
dat_ASU_interviewer$S4Q12 == "absolutely not" ~ -1,
dat_ASU_interviewer$S4Q12 == "Probably not" ~ -1,
dat_ASU_interviewer$S4Q12 == "No" ~ -1,
dat_ASU_interviewer$S4Q12 == "ASU researcher" ~ -1,
dat_ASU_interviewer$S4Q12 == "asu researcher" ~ -1,
dat_ASU_interviewer$S4Q12 == "Absolutely not" ~ -1,
dat_ASU_interviewer$S4Q12 == "Dependent on who the incarcerated woman is that would be interviewing her" ~ -1,
dat_ASU_interviewer$S4Q12 == "No I wouldn't be comfortable talking and sharing with a woman incarcerated here" ~ -1,
# code those with no preference as 0
dat_ASU_interviewer$S4Q12 == "doesn't matter" ~ 0,
dat_ASU_interviewer$S4Q12 == "Wouldn't care either way" ~ 0,
dat_ASU_interviewer$S4Q12 == "Either would have been fine" ~ 0,
dat_ASU_interviewer$S4Q12 == "It would not have made a difference" ~ 0,
dat_ASU_interviewer$S4Q12 == "No not really" ~ 0,
# code those who would have preferred an alternate interviewer as 1
dat_ASU_interviewer$S4Q12 == "Yes" ~ 1
)
dat_CRUZ_interviewer <- dat |>
filter( Randomize  == 1 ) |>      # take those who are randomized
filter( InterviewerType == 1 ) |> # take those who had the CRUZ interviewer
select( id, S4Q12 )
dim(dat_CRUZ_interviewer)
dim(pref_CRUZ_interviewer)
dat_CRUZ_interviewer$pref <- pref_CRUZ_interviewer
dat_ASU_interviewer$pref <- pref_ASU_interviewer
dat_CRUZ_interviewer$pref <- pref_CRUZ_interviewer
names(dat_ASU_interviewer)
dat2 <- full_join( dat, dat_ASU_interviewer, by = id )
dat2 <- full_join( dat, dat_ASU_interviewer, by = "id" )
dat2
head(dat)
dat <- full_join( dat, dat_ASU_interviewer, by = "id" )
dat <- full_join( dat, dat_CRUZ_interviewer, by = "id" )
dat_analysis <- dat |>
filter( Randomize  == 1 ) |>
select( id, InterviewerType, S4Q12, pref )
names(dat_ASU_interviewer)
dat <- full_join( dat, dat_ASU_interviewer, by = "id" )
dat <- full_join( dat, dat_CRUZ_interviewer, by = "id" )
names(dat)
library(dplyr)
# Combine both preference columns into a single vector
combined_pref <- bind_rows(
data.frame(pref = dat_ASU_interviewer$pref_ASU_interviewer),
data.frame(pref = dat_CRUZ_interviewer$pref_CRUZ_interviewer)
)
# View first rows
head(combined_pref)
library(dplyr)
# Combine both preference columns into a single vector
combined_pref <- bind_rows(
data.frame(pref = dat_ASU_interviewer$pref),
data.frame(pref = dat_CRUZ_interviewer$pref)
)
# View first rows
head(combined_pref)
combined_pref
head(dat_ASU_interviewer)
names(dat)
# create the sub data to use
dat_analysis <- dat |>
filter( Randomize  == 1 ) |>
select( id, InterviewerType, S4Q12 )
# match the ids
dat_ASU_interviewer$pref <- pref_ASU_interviewer
dat_CRUZ_interviewer$pref <- pref_CRUZ_interviewer
# drop the S4Q12 var
dat_ASU_interviewer <- dat_ASU_interviewer |> select( id, pref)
dat_CRUZ_interviewer <- dat_CRUZ_interviewer |> select( id, pref)
dat_ASU_interviewer
cbind( dat_ASU_interviewer, dat_CRUZ_interviewer)
# create the sub data to use
dat_analysis <- dat |>
filter( Randomize  == 1 ) |>
select( id, InterviewerType, S4Q12 )
# match the ids
dat_ASU_interviewer$pref <- pref_ASU_interviewer
dat_CRUZ_interviewer$pref <- pref_CRUZ_interviewer
# drop the S4Q12 var
dat_ASU_interviewer <- dat_ASU_interviewer |> select( id, pref)
dat_CRUZ_interviewer <- dat_CRUZ_interviewer |> select( id, pref)
dat <- full_join(
dat_analysis,
rbind( dat_ASU_interviewer, dat_CRUZ_interviewer ),
by = "id"
)
# ================================================================== #
# TITLE
# ================================================================== #
# This file recodes the S4Q12 variable.
# ================================================================== #
# ----
# Clear workspace
rm( list = ls() )
# ----
# load the needed libraries
library( here )  # used for referencing local directory
library( haven ) # used for reading stata files
library( dplyr ) # for filtering data
# ----
# get the data file
dat <- as.data.frame(
read_dta(
here( "PR-interviewer-wrangling/PR-interviewer-wrangling-data/PV PAR Interviews Full_CLEANED.dta" ),
)
)
# ----
# recode open-ended responses
# individuals were asked:
# Would you have been more comfortable completing
# this interview with [someone incarcerated at Cruz OR an ASU researcher]?
# if you had an outside interviewer, it read "someone incarcerated at CRUZ"
# if you had an inside interviewer, it read "ASU researcher"
# create the vector of responses based on who did the interview with
# an ASU researcher
dat_ASU_interviewer <- dat |>
filter( Randomize  == 1 ) |>       # take those who were randomized
filter( InterviewerType == 0 ) |>  # take those with the ASU interviewer
select( id, S4Q12 )
# code the values
pref_ASU_interviewer <- case_when(
# code those who would not prefer the alternate interviewer as -1
dat_ASU_interviewer$S4Q12 == "No" ~ -1,
dat_ASU_interviewer$S4Q12 == "no" ~ -1,
dat_ASU_interviewer$S4Q12 == "absolutely not" ~ -1,
dat_ASU_interviewer$S4Q12 == "Probably not" ~ -1,
dat_ASU_interviewer$S4Q12 == "No" ~ -1,
dat_ASU_interviewer$S4Q12 == "ASU researcher" ~ -1,
dat_ASU_interviewer$S4Q12 == "asu researcher" ~ -1,
dat_ASU_interviewer$S4Q12 == "Absolutely not" ~ -1,
dat_ASU_interviewer$S4Q12 == "Dependent on who the incarcerated woman is that would be interviewing her" ~ -1,
dat_ASU_interviewer$S4Q12 == "No I wouldn't be comfortable talking and sharing with a woman incarcerated here" ~ -1,
# code those with no preference as 0
dat_ASU_interviewer$S4Q12 == "doesn't matter" ~ 0,
dat_ASU_interviewer$S4Q12 == "Wouldn't care either way" ~ 0,
dat_ASU_interviewer$S4Q12 == "Either would have been fine" ~ 0,
dat_ASU_interviewer$S4Q12 == "It would not have made a difference" ~ 0,
dat_ASU_interviewer$S4Q12 == "No not really" ~ 0,
# code those who would have preferred an alternate interviewer as 1
dat_ASU_interviewer$S4Q12 == "Yes" ~ 1
)
# create the vector of responses based on who did the interview with
# an incarcerated interviewer
dat_CRUZ_interviewer <- dat |>
filter( Randomize  == 1 ) |>      # take those who are randomized
filter( InterviewerType == 1 ) |> # take those who had the CRUZ interviewer
select( id, S4Q12 )
# code the values
pref_CRUZ_interviewer <- case_when(
# code those who would not have preferred an alternate interviewer as -1
dat_CRUZ_interviewer$S4Q12 == "No" ~ -1,
dat_CRUZ_interviewer$S4Q12 == "No, not at all" ~ -1,
dat_CRUZ_interviewer$S4Q12 == "I'd interview with you" ~ -1,
dat_CRUZ_interviewer$S4Q12 == "no" ~ -1,
dat_CRUZ_interviewer$S4Q12 == "Probably no" ~ -1,
dat_CRUZ_interviewer$S4Q12 == "cruz" ~ -1,
dat_CRUZ_interviewer$S4Q12 == "someone at cruz" ~ -1,
dat_CRUZ_interviewer$S4Q12 == "I don't think so, you were very nice :) (Jessica)" ~ -1,
dat_CRUZ_interviewer$S4Q12 == "incarcerated" ~ -1,
dat_CRUZ_interviewer$S4Q12 == "Incarcerated person that conducted interview" ~ -1,
dat_CRUZ_interviewer$S4Q12 == "Someone incarcerated at Cruz" ~ -1,
dat_CRUZ_interviewer$S4Q12 == "Cruz inmate" ~ -1,
dat_CRUZ_interviewer$S4Q12 == "Cruz" ~ -1,
dat_CRUZ_interviewer$S4Q12 == "Someone incarcerated" ~ -1,
dat_CRUZ_interviewer$S4Q12 == "Inmate" ~ -1,
dat_CRUZ_interviewer$S4Q12 == "Incarcerated person" ~ -1,
dat_CRUZ_interviewer$S4Q12 == "cruz" ~ -1,
# code those with no preference as 0
dat_CRUZ_interviewer$S4Q12 == "either" ~ 0,
dat_CRUZ_interviewer$S4Q12 == "It wouldn't matter" ~ 0,
dat_CRUZ_interviewer$S4Q12 == "no- doesn't matter" ~ 0,
dat_CRUZ_interviewer$S4Q12 == "doesn't matter" ~ 0,
dat_CRUZ_interviewer$S4Q12 == "Me:) \"Winning\"" ~ 0,
dat_CRUZ_interviewer$S4Q12 == "no preference" ~ 0,
dat_CRUZ_interviewer$S4Q12 == "Either is ok" ~ 0,
dat_CRUZ_interviewer$S4Q12 == "Summer" ~ 0,
dat_CRUZ_interviewer$S4Q12 == "It would have been the same" ~ 0,
dat_CRUZ_interviewer$S4Q12 == "I don't care." ~ 0,
dat_CRUZ_interviewer$S4Q12 == "Either one would be fine" ~ 0,
dat_CRUZ_interviewer$S4Q12 == "Doesn't matter" ~ 0,
dat_CRUZ_interviewer$S4Q12 == "Either would be fine." ~ 0,
dat_CRUZ_interviewer$S4Q12 == "The same" ~ 0,
dat_CRUZ_interviewer$S4Q12 == "Either" ~ 0,
dat_CRUZ_interviewer$S4Q12 == "It doesn't matter" ~ 0,
dat_CRUZ_interviewer$S4Q12 == "either" ~ 0,
dat_CRUZ_interviewer$S4Q12 == "either" ~ 0,
# code those who would prefer the alternate interviewer as 1
dat_CRUZ_interviewer$S4Q12 == "ASU" ~ 1,
dat_CRUZ_interviewer$S4Q12 == "ASU researcher" ~ 1,
dat_CRUZ_interviewer$S4Q12 == "Maybe" ~ 1
)
# ----
# append the items back to the main data file
# create the sub data to use
dat_analysis <- dat |>
filter( Randomize  == 1 ) |>
select( id, InterviewerType, S4Q12 )
# match the ids
dat_ASU_interviewer$pref <- pref_ASU_interviewer
dat_CRUZ_interviewer$pref <- pref_CRUZ_interviewer
# drop the S4Q12 var
dat_ASU_interviewer <- dat_ASU_interviewer |> select( id, pref)
dat_CRUZ_interviewer <- dat_CRUZ_interviewer |> select( id, pref)
dat_analysis <- full_join(
dat_analysis,
rbind( dat_ASU_interviewer, dat_CRUZ_interviewer ),
by = "id"
)
dat_analysis
chisq.test
?chisq.test
chisq.test( table( dat_analysis$InterviewerType, dat_analysis$pref ) )
table( dat_analysis$InterviewerType, dat_analysis$pref )
table( dat_analysis$InterviewerType, dat_analysis$pref )
74/80
57/86
table( dat_analysis$pref, dat_analysis$InterviewerType )
74+5+1
57+18+3
80+78
74/80
5/80
1/80
57/78
18/78
3/78
chisq.test( table( dat_analysis$InterviewerType, dat_analysis$pref ) )
table_to_test <- table( dat_analysis$InterviewerType, dat_analysis$pref )
table_to_test
table_to_test[,-3]
table_to_test <- table( dat_analysis$pref, dat_analysis$InterviewerType )
table_to_test[,-3]
table_to_test
table_to_test <- table( dat_analysis$pref, dat_analysis$InterviewerType )
table_to_test
chisq.test( table_to_test[-3,] )
table_to_test <- table( dat_analysis$pref, dat_analysis$InterviewerType )
chisq.test( table_to_test ) # this gives a warning b/c of the last row
# conduct the test without the last row
chisq.test( table_to_test[-3,] )
table(dat_analysis$pref)
length(dat_analysis$pref)
table(dat_analysis$pref)/158
# ================================================================== #
# PAPER TITLE
# ================================================================== #
# This file works with the demographic data for tables
# and creates appendices for comparison with randomized
# and non-randomized participants.
# Objects created in the manuscript:
# Table 1: Descriptive Statistics
# Appendix 1: Means Comparison\n between Randomized and Non-Randomized\n Interviewees (n = 200)
# ================================================================== #
# ----
# Setup
# clear the workspace
rm( list = ls() )
# load the libraries
library( dplyr )     # for working with the data
library( here )      # to call local directory
library( stargazer ) # for creating the table
# ----
# load the data
dat <- readRDS( file = here( "PR-interviewer-rodeo/PR-interviewer-rodeo-data/trust.rhps.cntrls.vars.data.rds" ) )
# coerce to a data frame
dat <- as.data.frame( dat )
# ----
# load the functions needed that is in the utilities folder
source( here( "PR-interviewer-utils/PR-interviewer-functions.R" ) )
# ----
# create a table of demographics
# variables to use for the table
select_vars_to_use <- dat %>%
select( -c( id ) )
# create the descriptive stats objects
all_desc <- cbind(
round( apply( select_vars_to_use, 2, function( x ) mean( x, na.rm = TRUE ) ), 2 ),
round( apply( select_vars_to_use, 2, function( x )   sd( x, na.rm = TRUE ) ), 2 )
)
randomized_desc <- cbind(
round( apply( select_vars_to_use[select_vars_to_use$Randomize == 1,], 2, function( x ) mean( x, na.rm = TRUE ) ), 2 ),
round( apply( select_vars_to_use[select_vars_to_use$Randomize == 1,], 2, function( x )   sd( x, na.rm = TRUE ) ), 2 )
)
nonrandomized_desc <- cbind(
round( apply( select_vars_to_use[select_vars_to_use$Randomize == 0,], 2, function( x ) mean( x, na.rm = TRUE ) ), 2 ),
round( apply( select_vars_to_use[select_vars_to_use$Randomize == 0,], 2, function( x )   sd( x, na.rm = TRUE ) ), 2 )
)
# ----
# build the table
# NOTE: stuck with getting this to work
stargazer(
cbind( all_desc, randomized_desc, nonrandomized_desc ),
title = "Table 1: Descriptive Statistics",
column.labels = c(
"All (Mean)", "All (SD)",
"Randomized (Mean)", "Randomized (SD)",
"Nonrandomized (Mean)", "Nonrandomized (SD)"
),
out = here( "table.doc" ),
type = "html",
digits = 2,
covariate.labels = c(
"Age",
"Age (Logged)",
"Interviewer (Inside = 1)",
"Randomized (Random = 1)",
"White",
"Black",
"Hispanic",
"Years of Education",
"Single",
"Has Children",
"First Time in Prison",
"Time In Prison",
"Sentence Length",
"Lifer",
paste("T ",rep( 1:15 ), sep = "" ),
paste("CRH ",rep( 1:14 ), sep = "" ),
paste("PS ",rep( 1:7 ), sep = "" )
)
)
all_desc
select_vars_to_use
dim(select_vars_to_use)
table(select_vars_to_use$Randomize)
